!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("rxjs"),require("adal-angular")):"function"==typeof define&&define.amd?define("microsoft-adal-angular6",["exports","@angular/core","rxjs","adal-angular"],t):t(e["microsoft-adal-angular6"]={},e.ng.core,null,null)}(this,function(e,n,t,o){"use strict";var r=function(){function e(e){"function"==typeof(this.adalConfig=e)&&(this.adalConfig=e()),this.context=o.inject(this.adalConfig),this.handleCallback()}return Object.defineProperty(e.prototype,"LoggedInUserEmail",{get:function(){return this.isAuthenticated?this.context.getCachedUser().userName:""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"LoggedInUserName",{get:function(){return this.isAuthenticated?this.context.getCachedUser().profile.name:""},enumerable:!0,configurable:!0}),e.prototype.login=function(){this.context.login()},e.prototype.logout=function(){this.context.logOut()},e.prototype.GetResourceForEndpoint=function(e){var t=null;return e&&((t=this.context.getResourceForEndpoint(e))||(t=this.adalConfig.clientId)),t},e.prototype.RenewToken=function(e){var t=this.GetResourceForEndpoint(e);return this.context.clearCacheForResource(t)},e.prototype.acquireToken=function(e){var i,a=this;return t.bindCallback(function(n){var o,r=null;return o=a.GetResourceForEndpoint(e),a.context.acquireToken(o,function(e,t){e?(a.context.error("Error when acquiring token for resource: "+o,e),i=e,n(null)):(n(t),r=t)}),r},function(e){if(!e&&i)throw i;return e})()},e.prototype.getToken=function(e){var t,n=this.context.getResourceForEndpoint(e);return t=n?"adal.access.token.key"+n:"adal.idtoken","localStorage"===this.adalConfig.cacheLocation?localStorage.getItem(t):sessionStorage.getItem(t)},e.prototype.handleCallback=function(){this.context.handleWindowCallback()},Object.defineProperty(e.prototype,"userInfo",{get:function(){return this.context.getCachedUser()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"accessToken",{get:function(){return this.context.getCachedToken(this.adalConfig.clientId)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isAuthenticated",{get:function(){return!(!this.userInfo||!this.accessToken)},enumerable:!0,configurable:!0}),e.decorators=[{type:n.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:undefined,decorators:[{type:n.Inject,args:["adalConfig"]}]}]},e.ngInjectableDef=n.defineInjectable({factory:function(){return new e(n.inject("adalConfig"))},token:e,providedIn:"root"}),e}(),i=function(){function e(e){this.adalSvc=e}return e.prototype.canActivate=function(e,t){return!!this.adalSvc.isAuthenticated||(this.adalSvc.login(),!1)},e.prototype.canActivateChild=function(e,t){return this.canActivate(e,t)},e.decorators=[{type:n.Injectable}],e.ctorParameters=function(){return[{type:r}]},e}(),a=function(){function t(){}return t.forRoot=function(e){return{ngModule:t,providers:[r,{provide:"adalConfig",useValue:e}]}},t.decorators=[{type:n.NgModule,args:[{imports:[],declarations:[],exports:[]}]}],t}();e.MsAdalAngular6Service=r,e.AuthenticationGuard=i,e.MsAdalAngular6Module=a,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=microsoft-adal-angular6.umd.min.js.map